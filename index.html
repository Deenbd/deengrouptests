<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>3rd Test: Deen Group Tests</title>
    <link href="onlylogo.png" rel="icon" />
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #001f4d;
        }
        .container {
            display: flex;
            gap: 60px;
        }
        .left-box, .right-box {
            height: 500px;
            padding: 20px;
            border-radius: 10px;
            box-sizing: border-box;
            overflow-y: auto;
        }
        .left-box {
            width: 300px;
            background-color: #ffcccc;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }
        .right-box {
            width: 420px;
            background-color: #ccffcc;
        }
        .left-box input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #aaa;
            border-radius: 5px;
            font-size: 16px;
        }
        .left-box button {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }
        .left-box button:disabled {
            background-color: #aaa;
            cursor: not-allowed;
        }
        .right-box h2 {
            text-align: center;
            margin-bottom: 20px;
        }
        #buttonsContainer {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        #buttonsContainer button,
        #backContainer button {
            padding: 12px;
            font-size: 16px;
            font-weight: bold;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 5px;
        }
        #buttonsContainer button:hover,
        #backContainer button:hover {
            background-color: #45a049;
        }
        #backContainer {
            display: none;
            text-align: center;
            margin-top: 20px;
        }
        .rule-content {
            text-align: left;
            margin-bottom: 15px;
        }
        .rule-2-option {
            background-color: #add8e6 !important;
            color: black !important;
            flex: 1 1 calc(50% - 10px);
            margin: 5px 0;
        }
        .rule-2-buttons-wrapper {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: space-between;
        }
        .orange-button {
            background-color: #ffcc99;
            color: black;
            margin-top: 20px;
            padding: 12px 18px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }
        .orange-button:hover {
            background-color: #ffbb66;
        }
        .typewriter {
            display: inline-block;
            overflow: hidden;
            border-right: 2px solid orange;
            white-space: nowrap;
            animation: typing 2s steps(30, end), blink 0.7s step-end infinite;
        }
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
        @keyframes blink {
            from, to { border-color: transparent }
            50% { border-color: orange }
        }
        button:hover {
            background: linear-gradient(to right, #ffae42, #ff7300);
            box-shadow: 0 0 10px #ffaa00;
        }
        #sim-box{
            background:#fff3cd;
            padding:20px;
            border-radius:10px;
            text-align:center;
        }
        #status{font-weight:bold}
        #current-pass{font-size:24px;margin-top:10px}
        #check-result{font-size:20px;font-weight:600;margin-top:10px}
        #speed-zone{margin-top:10px;font-size:16px}
        .control-btn{margin-top:8px;padding:8px 14px;border-radius:6px;border:none;cursor:pointer;font-weight:700}
        .btn-reveal{background:linear-gradient(to right,#ffa500,#ff8c00);color:#fff}
        .btn-stop{background:#e74c3c;color:#fff}
        .btn-start{background:#28a745;color:#fff}
        .btn-toggle{background:#6c5ce7;color:#fff}
        .small-note{font-size:13px;color:#333;margin-top:8px}
        .phishing-block-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .phishing-block {
            background-color: #ff6666;
            color: white;
            padding: 10px 15px;
            border-radius: 10px;
            font-weight: bold;
            text-align: left;
            position: relative;
            cursor: grab;
            display: flex;
            align-items: center;
        }
        .phishing-block:active {
            cursor: grabbing;
        }
        .phishing-block:before {
            content: '';
            position: absolute;
            left: -15px;
            top: 0;
            bottom: 0;
            width: 15px;
            background-color: #ff6666;
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%, 0 75%, 50% 50%, 0 25%);
        }
        .phishing-block.start-block:before {
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
        }
        .phishing-block-input {
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 4px 8px;
            margin-left: 10px;
            font-weight: normal;
        }
        #blockDropZone {
            border: 2px dashed #999;
            padding: 20px;
            min-height: 200px;
            background: #f0f0f0;
            border-radius: 8px;
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 10px;
        }
        #phishingResult {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            background: #d4edda;
            color: #155724;
            display: none;
        }
        .phishing-success-link {
            word-break: break-all;
            background-color: #cce5ff;
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #b8daff;
            margin-top: 10px;
            display: block;
            text-align: left;
        }
        .message-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            border: 1px solid #ccc;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: none;
            flex-direction: column;
            align-items: center;
        }
        .message-box button {
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="left-box">
            <h3>‡¶¶‡ßç‡¶¨‡ßÄ‡¶® ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶≤‡¶ó-‡¶á‡¶®</h3>
            <input type="text" id="username" placeholder="‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ" oninput="validatePassword()" />
            <input type="password" id="password" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°" oninput="validatePassword()" />
            <button id="loginBtn" onclick="login()" disabled>‡¶≤‡¶ó-‡¶á‡¶®</button>
            <div class="small-note">(‡¶∏‡¶†‡¶ø‡¶ï ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶π‡¶≤‡ßá Login ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶π‡¶¨‡ßá)</div>
        </div>
        <div class="right-box">
            <h2 id="ruleHeading">Steps</h2>
            <div id="buttonsContainer">
                <button onclick="selectStep(1)">Step 1</button>
                <button onclick="selectStep(2)">Step 2</button>
                <button onclick="selectStep(3)">Step 3</button>
                <button onclick="selectStep(4)">Step 4</button>
            </div>
            <div id="backContainer"></div>
        </div>
    </div>
    <div id="messageBox" class="message-box">
        <p id="messageText"></p>
        <button onclick="hideMessage()">‡¶ì‡¶ï‡ßá</button>
    </div>

    <script>
        // ‡¶ï‡ßã‡¶°‡¶ü‡¶ø ‡¶â‡¶á‡¶®‡ßç‡¶°‡ßã ‡¶≤‡ßã‡¶° ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá, ‡¶Ø‡¶æ‡¶§‡ßá ‡¶∏‡¶¨ HTML ‡¶â‡¶™‡¶æ‡¶¶‡¶æ‡¶® ‡¶†‡¶ø‡¶ï‡¶Æ‡¶§‡ßã ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡•§
        window.onload = function() {
            // CONFIG / STATE
            const correctPassword = "9624";
            const DICT_URL = "https://deenbd.github.io/deengrouptests/dictionary.txt";
            const TOTAL_DICTIONARY_PASSWORDS = 10000;
            const FAKE_SITE_URL = "https://deenbd.github.io/deengrouptests/login.html";
            
            let completedSteps = [];
            let allowedStep3Access = false;
            let rule3Method = "";
            let allowedStep4Access = false;
            let pass = 0;
            let paused = false;
            let bruteTimer = null;
            let started = false;
            let dictionaryList = [];
            let dictIndex = 0;
            let usingDictionary = false;
            let dictSlowMode = false;
            let isPhishingRedirect = false; // ‡¶®‡¶§‡ßÅ‡¶® ‡¶≠‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶¨‡¶≤ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§
            
            const BASE_DELAYS = {
                Fast: 5, // for 0000-4053
                Medium: 20, // for 4054-7264
                VeryFast: 2, // for 7265-9524
                Slow: 50 // for 9525-9624
            };
            
            let stepHistory = [];
            let droppedBlocks = [];

            // ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶¨‡¶ï‡ßç‡¶∏ ‡¶§‡ßà‡¶∞‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶è‡¶ü‡¶ø ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ï‡ßã‡¶™‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§
            window.showMessage = function(message) {
                const messageBox = document.getElementById('messageBox');
                const messageText = document.getElementById('messageText');
                messageText.textContent = message;
                messageBox.style.display = 'flex';
            }

            window.hideMessage = function() {
                const messageBox = document.getElementById('messageBox');
                messageBox.style.display = 'none';
            }

            function zoneDelay(baseMs) {
                const d = Math.max(1, Math.round(baseMs / 2));
                return d;
            }

            function getZoneForNumber(n) {
                if (n <= 4053) return { zone: "Fast", delay: zoneDelay(BASE_DELAYS.Fast) };
                if (n <= 7264) return { zone: "Medium", delay: zoneDelay(BASE_DELAYS.Medium) };
                if (n <= 9524) return { zone: "Very Fast", delay: zoneDelay(BASE_DELAYS.VeryFast) };
                return { zone: "Slow", delay: zoneDelay(BASE_DELAYS.Slow) };
            }

            function validatePassword() {
                const password = document.getElementById("password").value;
                const username = document.getElementById("username").value;
                const loginBtn = document.getElementById("loginBtn");
                loginBtn.disabled = password !== correctPassword || username.trim() === "";
            }

            function login() {
                showMessage("üéâ ‡¶≤‡¶ó-‡¶á‡¶® ‡¶∏‡¶´‡¶≤ (‡¶∏‡¶ø‡¶Æ‡ßÅ‡¶≤‡ßá‡¶∂‡¶®)!");
            }

            // ‡¶∏‡ßç‡¶ü‡ßá‡¶™ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
            window.selectStep = function(ruleNumber) {
                // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶∂‡¶∞‡ßç‡¶§ ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ø‡¶¶‡¶ø isPhishingRedirect ‡¶∏‡¶§‡ßç‡¶Ø ‡¶π‡¶Ø‡¶º, ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶è‡¶á ‡¶ö‡ßá‡¶ï‡¶ü‡¶ø ‡¶è‡¶°‡¶º‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§
                if (!isPhishingRedirect && ruleNumber > 1 && !completedSteps.includes(ruleNumber - 1)) {
                    showMessage(`‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ü‡¶ó‡ßá Step ${ruleNumber - 1} ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§`);
                    return;
                }
                if (ruleNumber === 3 && !allowedStep3Access) {
                    showMessage("‡¶Ü‡¶™‡¶®‡¶ø Brute Force ‡¶¨‡¶æ Dictionary ‡¶¨‡¶æ Phishing ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶®‡¶æ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶è‡¶á ‡¶∞‡ßÅ‡¶≤‡ßá ‡¶¢‡ßÅ‡¶ï‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ!");
                    return;
                }
                if (ruleNumber === 4 && !allowedStep4Access) {
                    showMessage("‚ö†Ô∏è ‡¶Ü‡¶™‡¶®‡¶ø 'Start Attack!' ‡¶¨‡¶æ 'Create Phishing Page' ‡¶®‡¶æ ‡¶ö‡¶æ‡¶™‡¶≤‡ßá Step 4 ‡¶è ‡¶Ø‡ßá‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ!");
                    return;
                }
                if (stepHistory.length === 0 || stepHistory[stepHistory.length - 1] !== ruleNumber) {
                    stepHistory.push(ruleNumber);
                }
                const heading = document.getElementById("ruleHeading");
                const buttons = document.getElementById("buttonsContainer");
                const back = document.getElementById("backContainer");
                heading.textContent = `Step ${ruleNumber}`;
                buttons.style.display = "none";
                back.style.display = "block";
                let content = "";
                if (ruleNumber === 1) {
                    content = `
                        <div class="rule-content">
                            <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶è‡¶á ‡¶∞‡ßÅ‡¶≤‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶§‡¶•‡ßç‡¶Ø ‡¶ú‡¶æ‡¶®‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá‡•§ ‡¶§‡¶•‡ßç‡¶Ø‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°‡¶ü‡¶ø ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡¶¨‡ßá‡•§</p>
                            <ul>
                                <li>‡ßß‡¶Æ ‡¶§‡¶•‡ßç‡¶Ø: ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°‡¶ü‡¶ø ‡ß™ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞ ‡¶¨‡¶æ ‡¶¨‡¶∞‡ßç‡¶£‡ßá‡¶∞‡•§</li>
                                <li>‡ß®‡¶Ø‡¶º ‡¶§‡¶•‡ßç‡¶Ø: ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°‡¶ü‡¶ø ‡¶™‡ßÅ‡¶∞‡ßã‡¶ü‡¶ø‡¶á ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡•§</li>
                                <li>‡ß©‡¶Ø‡¶º ‡¶§‡¶•‡ßç‡¶Ø: ‡¶è‡¶ü‡¶ø ‡¶Ö‡¶®‡ßç‡¶§‡¶§‡ßç‡¶Ø ‡¶∏‡¶π‡¶ú‡•§</li>
                                <li>‡ß™‡¶∞‡ßç‡¶• ‡¶§‡¶•‡ßç‡¶Ø: ‡¶∞‡ßÅ‡¶≤ ‡ß® ‡¶è‡¶∞ ‡¶Ö‡¶™‡¶∂‡¶®‡¶ó‡ßÅ‡¶≤‡¶ø‡¶∞ ‡¶Æ‡¶æ‡¶ù‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡ß®‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá‡¶á ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§</li>
                                <li>‡ß´‡¶Æ ‡¶§‡¶•‡ßç‡¶Ø: ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶®‡¶ø‡¶ú‡ßá ‡¶¨‡¶æ‡¶õ‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§ ‡¶Ø‡¶æ ‡¶¶‡¶ø‡¶¨‡ßá‡¶® ‡¶§‡¶æ‡¶á ‡¶π‡¶¨‡ßá‡•§</li>
                                <li>‡ß¨‡¶∑‡ßç‡¶† ‡¶§‡¶•‡ßç‡¶Ø: ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡ßá‡¶Ø‡¶º‡ßá ‡¶ó‡ßá‡¶≤‡ßá ‡¶∂‡ßá‡¶∑ ‡¶Ö‡¶ô‡ßç‡¶ï‡¶ü‡¶ø ‡¶°‡¶ø‡¶≤‡ßá‡¶ü ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶ñ‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§‡•§</li>
                            </ul>
                        </div>
                    `;
                } else if (ruleNumber === 2) {
                    content = `
                        <div class="rule-content">
                            <p>‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ï‡ßã‡¶® ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°‡¶ü‡¶ø ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶ì?</p>
                            <p>‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶π‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç-‡¶è‡¶∞ ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø:</p>
                            <ul>
                                <li><strong>Brute Force Attack:</strong> 0000, 0001, 0002 ... 9999</li>
                                <li><strong>Dictionary Attack:</strong> 1234, password, qwerty, abc123</li>
                                <li><strong>Phishing:</strong> ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≠‡ßÅ‡¶Ø‡¶º‡¶æ ‡¶∏‡¶æ‡¶á‡¶ü‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡ßá‡¶Ø‡¶º</li>
                                <li><strong>Keylogging:</strong> ‡¶ï‡ßÄ ‡¶ü‡¶æ‡¶á‡¶™ ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶§‡¶æ ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶°</li>
                                <li><strong>Shoulder Surfing:</strong> ‡¶™‡¶æ‡¶∂‡ßá ‡¶¶‡¶æ‡¶Å‡¶°‡¶º‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ</li>
                                <li><strong>Guessing:</strong> ‡¶ú‡¶®‡ßç‡¶Æ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ, ‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ú‡¶ø‡¶®‡¶ø‡¶∏</li>
                                <li><strong>Credential Stuffing:</strong> ‡¶™‡ßÅ‡¶∞‡ßã‡¶®‡ßã ‡¶∏‡¶æ‡¶á‡¶ü‡ßá‡¶∞ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞</li>
                            </ul>
                            <div class="rule-2-buttons-wrapper">
                                <button class="rule-2-option" onclick="selectMethod('Brute Force')">Brute Force</button>
                                <button class="rule-2-option" onclick="selectMethod('Dictionary')">Dictionary</button>
                                <button class="rule-2-option" onclick="selectMethod('Phishing')">Phishing</button>
                                <button class="rule-2-option" onclick="selectMethod('Keylogging')">Keylogging</button>
                                <button class="rule-2-option" onclick="selectMethod('Shoulder Surfing')">Shoulder Surfing</button>
                                <button class="rule-2-option" onclick="selectMethod('Guessing')">Guessing</button>
                                <button class="rule-2-option" onclick="selectMethod('Credential Stuffing')">Credential Stuffing</button>
                            </div>
                        </div>
                    `;
                } else if (ruleNumber === 3) {
                    if (rule3Method === "Brute Force") {
                        content = `
                            <div class="attack-section" id="brute-force">
                                <h3>üß† Brute Force Attack (‡¶¨‡ßç‡¶∞‡ßÅ‡¶ü ‡¶´‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ü‡¶ï‡ßç‡¶∞‡¶Æ‡¶£)</h3>
                                <p><strong>üîê ‡¶∏‡¶Ç‡¶ú‡ßç‡¶û‡¶æ:</strong> Brute Force Attack ‡¶π‡¶≤‡ßã ‡¶è‡¶Æ‡¶® ‡¶è‡¶ï‡¶ü‡¶ø ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶¨‡¶æ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡ßç‡¶Ø ‡¶∏‡¶¨ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶Æ‡ßç‡¶¨‡¶ø‡¶®‡ßá‡¶∂‡¶® ‡¶è‡¶ï‡ßá ‡¶è‡¶ï‡ßá ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶†‡¶ø‡¶ï ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡ßá‡•§</p>
                                <p><strong>üßÆ ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá:</strong> ‡¶ß‡¶∞‡ßÅ‡¶®, ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ú‡¶æ‡¶®‡ßá‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡ß™ ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡•§ ‡¶§‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶ø 0000 ‡¶•‡ßá‡¶ï‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßá 9999 ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®‡•§ ‡¶ï‡¶Æ‡ßç‡¶™‡¶ø‡¶â‡¶ü‡¶æ‡¶∞ ‡¶¨‡¶æ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶è‡¶ü‡¶ø ‡¶∏‡ßç‡¶¨‡¶Ø‡¶º‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶∞‡ßá ‡¶´‡ßá‡¶≤‡¶¨‡ßá‡•§</p>
                                <p><strong>üì¶ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:</strong> 0000, 0001, 0002, ..., 1234, ..., 9999</p>
                                <p><strong>üìâ ‡¶¶‡ßÅ‡¶∞‡ßç‡¶¨‡¶≤‡¶§‡¶æ:</strong></p>
                                <ul>
                                    <li>‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶¨‡ßá‡¶∂‡¶ø ‡¶≤‡¶æ‡¶ó‡ßá, ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶ï‡¶∞‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¨‡¶°‡¶º ‡¶π‡¶≤‡ßá‡•§</li>
                                    <li>‡¶§‡¶¨‡ßá ‡¶∏‡¶´‡¶≤ ‡¶π‡¶≤‡ßá ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶´‡¶≤ ‡¶¶‡ßá‡¶Ø‡¶º‡•§</li>
                                </ul>
                            </div>
                        `;
                    } else if (rule3Method === "Dictionary") {
                        content = `
                            <div class="attack-section" id="dictionary-attack">
                                <h3>üìñ Dictionary Attack (‡¶°‡¶ø‡¶ï‡¶∂‡¶®‡¶æ‡¶∞‡¶ø ‡¶Ü‡¶ï‡ßç‡¶∞‡¶Æ‡¶£)</h3>
                                <p><strong>üîê ‡¶∏‡¶Ç‡¶ú‡ßç‡¶û‡¶æ:</strong> Dictionary Attack ‡¶è‡¶Æ‡¶® ‡¶è‡¶ï‡¶ü‡¶ø ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶π‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶∞‡¶∞‡¶æ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶™‡ßç‡¶∞‡¶ø-‡¶Æ‡ßá‡¶° ‡¶°‡¶ø‡¶ï‡¶∂‡¶®‡¶æ‡¶∞‡¶ø ‡¶¨‡¶æ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‚Äî ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ö‡¶®‡ßá‡¶ï‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶ì ‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶•‡¶æ‡¶ï‡ßá‡•§</p>
                                <p><strong>üß† ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá:</strong> ‡¶Ö‡¶®‡ßá‡¶ï ‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑ ‡¶ñ‡ßÅ‡¶¨ ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá, ‡¶Ø‡ßá‡¶Æ‡¶®: 123456, password, admin, qwerty‡•§ ‡¶è‡¶á‡¶∏‡¶¨ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶ó‡ßá ‡¶•‡ßá‡¶ï‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶•‡¶æ‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶ø .txt ‡¶´‡¶æ‡¶á‡¶≤‡ßá ‡¶¨‡¶æ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡ßá‡•§ ‡¶è‡¶∞‡¶™‡¶∞ ‡¶∏‡ßá‡¶á ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶ï‡ßá ‡¶è‡¶ï‡ßá ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡•§</p>
                                <p><strong>üì¶ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:</strong> password, 123456, letmein, admin, welcome123, qwerty, pass123</p>
                                <p><strong>‚ö†Ô∏è ‡¶¶‡ßÅ‡¶∞‡ßç‡¶¨‡¶≤‡¶§‡¶æ:</strong></p>
                                <ul>
                                    <li>‡¶Ø‡¶¶‡¶ø ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∂‡¶æ‡¶≤‡ßÄ ‡¶ì ‡¶Ö‡¶™‡ßç‡¶∞‡¶ö‡¶≤‡¶ø‡¶§ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá, ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶è‡¶á ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡•§</li>
                                    <li>‡¶§‡¶¨‡ßá ‡¶∏‡¶π‡¶ú ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ñ‡ßÅ‡¶¨‡¶á ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶∞‡•§</li>
                                </ul>
                            </div>
                        `;
                    } else if (rule3Method === "Phishing") {
                        content = `
                            <div class="attack-section" id="phishing-attack">
                                <h3>üé£ Phishing (‡¶´‡¶ø‡¶∂‡¶ø‡¶Ç)</h3>
                                <p><strong>üîê ‡¶∏‡¶Ç‡¶ú‡ßç‡¶û‡¶æ:</strong> ‡¶´‡¶ø‡¶∂‡¶ø‡¶Ç ‡¶è‡¶Æ‡¶® ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡ßå‡¶∂‡¶≤ ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶π‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶∞‡¶∞‡¶æ ‡¶è‡¶ï‡¶ú‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶Ç‡¶¨‡ßá‡¶¶‡¶®‡¶∂‡ßÄ‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø (‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ, ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°) ‡¶ö‡ßÅ‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá, ‡¶§‡¶æ‡¶¶‡ßá‡¶∞‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶õ‡¶¶‡ßç‡¶Æ‡¶¨‡ßá‡¶∂‡ßÄ ‡¶ì‡¶Ø‡¶º‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü‡ßá ‡¶Ü‡¶ï‡¶∞‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßá‡•§</p>
                                <p><strong>üõ†Ô∏è ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá:</strong> ‡¶π‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶∞‡¶∞‡¶æ ‡¶Ü‡¶∏‡¶≤ ‡¶ì‡¶Ø‡¶º‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü‡ßá‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡¶ï‡¶≤ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶∞‡¶£ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßá‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶ï‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶Ø‡¶º‡•§ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶®‡¶ï‡¶≤ ‡¶∏‡¶æ‡¶á‡¶ü‡¶ü‡¶ø ‡¶ö‡¶ø‡¶®‡¶§‡ßá ‡¶®‡¶æ ‡¶™‡ßá‡¶∞‡ßá ‡¶∏‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶ï‡¶∞‡ßá, ‡¶Ø‡¶æ ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶π‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶ö‡¶≤‡ßá ‡¶Ø‡¶æ‡¶Ø‡¶º‡•§</p>
                                <p><strong>üß± ‡¶ì‡¶Ø‡¶º‡ßá‡¶¨ ‡¶™‡ßá‡¶ú ‡¶§‡ßà‡¶∞‡¶ø:</strong></p>
                                <p>‡¶¶‡ßç‡¶¨‡ßÄ‡¶® ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶≤‡¶ó-‡¶á‡¶® ‡¶´‡¶∞‡ßç‡¶Æ‡ßá‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡¶ï‡¶≤ ‡¶ì‡¶Ø‡¶º‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶¨‡ßç‡¶≤‡¶ï‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∏‡¶æ‡¶ú‡¶æ‡¶®:</p>
                                <div style="display: flex; gap: 20px;">
                                    <div id="phishing-blocks" class="phishing-block-container" ondragover="event.preventDefault();">
                                        <div class="phishing-block start-block" draggable="true" data-block-id="1">
                                            <div style="flex-grow: 1;">when Page open</div>
                                        </div>
                                        <div class="phishing-block" draggable="true" data-block-id="2">
                                            <div style="flex-grow: 1;">‡¶´‡¶∞‡ßç‡¶Æ‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ:</div>
                                            <input type="text" class="phishing-block-input" value="Deen Group Log-in" />
                                        </div>
                                        <div class="phishing-block" draggable="true" data-block-id="3">
                                            <div style="flex-grow: 1;">‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ ‡¶≤‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶∏‡ßç‡¶•‡¶æ‡¶®</div>
                                        </div>
                                        <div class="phishing-block" draggable="true" data-block-id="4">
                                            <div style="flex-grow: 1;">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶≤‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶∏‡ßç‡¶•‡¶æ‡¶®</div>
                                        </div>
                                        <div class="phishing-block" draggable="true" data-block-id="5">
                                            <div style="flex-grow: 1;">‡¶≤‡¶ó-‡¶á‡¶® ‡¶¨‡¶æ‡¶ü‡¶®‡•§ ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶≤‡ßá‡¶ñ‡¶æ:</div>
                                            <input type="text" class="phishing-block-input" value="Log-in" />
                                        </div>
                                    </div>
                                    <div id="blockDropZone" ondragover="event.preventDefault();" ondrop="handleDrop(event)">
                                        <p>‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¨‡ßç‡¶≤‡¶ï‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶°‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ó ‡¶ì ‡¶°‡ßç‡¶∞‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
                                    </div>
                                </div>
                                <div style="text-align:center;">
                                    <button class="orange-button" onclick="createPhishingPage()">üîó Create Phishing Page</button>
                                </div>
                                <div id="phishingResult"></div>
                            </div>
                        `;
                    }
                    content += `
                        <div style="text-align:center;">
                            <button class="orange-button" onclick="goToStep4()">üöÄ Start Attack!</button>
                        </div>
                    `;
                } else if (ruleNumber === 4) {
                    if (rule3Method === "Phishing") {
                        const urlParams = new URLSearchParams(window.location.search);
                        const capturedUser = urlParams.get('username');
                        const capturedPass = urlParams.get('password');
                        content = `
                            <div class="rule-content">
                                <h3>üïµÔ∏è‚Äç‚ôÇÔ∏è Phishing Capture Center</h3>
                                <p>‡¶®‡¶ï‡¶≤ ‡¶ì‡¶Ø‡¶º‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ ‡¶è‡¶¨‡¶Ç ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶∏‡¶¨‡ßá‡•§</p>
                                <div id="capture-data" style="background: #f0f8ff; padding: 20px; border-radius: 8px; border: 1px solid #b8daff;">
                                    ${capturedUser && capturedPass ? `
                                        <p style="color: green; font-weight: bold;">‚úÖ ‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡ßç‡¶Ø‡¶æ‡¶™‡¶ö‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!</p>
                                        <p><strong>‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ:</strong> ${capturedUser}</p>
                                        <p><strong>‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°:</strong> ${capturedPass}</p>
                                    ` : `
                                        <p>Waiting for user login...</p>
                                    `}
                                </div>
                                <div style="text-align: center; margin-top: 20px;">
                                    <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶ï‡¶≤ ‡¶ì‡ßü‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü‡ßá‡¶∞ ‡¶≤‡¶ø‡¶Ç‡¶ï:</p>
                                    <a href="${FAKE_SITE_URL}" target="_blank" style="word-break: break-all; color: #0056b3;">${FAKE_SITE_URL}</a>
                                </div>
                            </div>
                        `;
                    } else {
                        pass = 0;
                        dictIndex = 0;
                        paused = false;
                        started = false;
                        usingDictionary = (rule3Method === "Dictionary");

                        content = `
                            <div class="rule-content">
                                <div id="sim-box">
                                    <div id="status">‡¶ö‡ßá‡¶ï‡¶ø‡¶Ç ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
                                    <div id="check-counter" style="margin-top:10px;font-size:14px;color:#333;"></div>
                                    <div id="current-pass">‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°: ----</div>
                                    <div id="check-result"></div>
                                    <div id="speed-zone"></div>

                                    <div id="controls" style="margin-top:14px;">
                                        <button id="startStopBtn" class="control-btn btn-start" onclick="toggleSimulation()">‚ñ∂Ô∏è Start</button>
                                        ${usingDictionary ? `<button id="dictSlowToggle" class="control-btn btn-toggle" onclick="toggleDictSlowMode()" style="margin-left:10px;">Slow Mode: OFF</button>` : ''}
                                    </div>
                                    <div style="margin-top:10px;">
                                        <button class="control-btn btn-reveal" onclick="revealPassword()">ü™Ñ Reveal Password</button>
                                        <button class="control-btn btn-stop" onclick="stopSimulation()" style="margin-left:10px;">‚õî Stop</button>
                                    </div>
                                    <div style="margin-top:8px;font-size:13px;color:#222">Note: Slow Mode sets dictionary to 1s interval. Otherwise dictionary follows speed zones like brute force.</div>
                                </div>
                            </div>
                        `;
                    }
                }
                back.innerHTML = content + `<div style="text-align:center;margin-top:12px;"><button onclick="goBack()">‚¨ÖÔ∏è Back</button></div>`;
                if (!completedSteps.includes(ruleNumber)) {
                    completedSteps.push(ruleNumber);
                }
                if (ruleNumber === 3 && rule3Method === "Phishing") {
                    setupDragAndDrop();
                }
            }
            
            // ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡¶ó‡ßÅ‡¶≤‡¶ø‡¶ï‡ßá ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ï‡ßã‡¶™‡ßá ‡¶Ü‡¶®‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§
            window.selectMethod = function(method) {
                showMessage(`‡¶Ü‡¶™‡¶®‡¶ø ${method} ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§`);
                if (method === 'Brute Force' || method === 'Dictionary' || method === 'Phishing') {
                    if (!completedSteps.includes(2)) completedSteps.push(2);
                    allowedStep3Access = true;
                    rule3Method = method;
                    allowedStep4Access = false;
                    setTimeout(() => selectStep(3), 300);
                } else {
                    allowedStep3Access = false;
                    rule3Method = "";
                    setTimeout(() => selectStep(2), 300);
                }
            }

            window.goToStep4 = function() {
                allowedStep4Access = true;
                selectStep(4);
            }

            window.goBack = function() {
                if (stepHistory.length > 1) {
                    stepHistory.pop();
                    const prevStep = stepHistory[stepHistory.length - 1];
                    // goBack ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º isPhishingRedirect ‡¶ï‡ßá reset ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§
                    isPhishingRedirect = false; 
                    selectStep(prevStep);
                } else {
                    stepHistory = [];
                    isPhishingRedirect = false; // goBack ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º isPhishingRedirect ‡¶ï‡ßá reset ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§
                    document.getElementById("ruleHeading").textContent = "Steps";
                    document.getElementById("buttonsContainer").style.display = "flex";
                    document.getElementById("backContainer").style.display = "none";
                    document.getElementById("backContainer").innerHTML = "";
                }
            }

            window.toggleSimulation = function() {
                const btn = document.getElementById("startStopBtn");
                if (!started) {
                    started = true;
                    paused = false;
                    btn.textContent = "‚è∏Ô∏è Pause";
                    if (usingDictionary) {
                        loadDictionaryAndStart();
                    } else {
                        pass = 0;
                        bruteForceStart();
                    }
                } else {
                    paused = !paused;
                    btn.textContent = paused ? "‚ñ∂Ô∏è Resume" : "‚è∏Ô∏è Pause";
                    if (!paused) {
                        if (usingDictionary) {
                            dictStep();
                        } else {
                            bruteForceStart();
                        }
                    } else {
                        clearTimeout(bruteTimer);
                    }
                }
            }

            window.stopSimulation = function() {
                clearTimeout(bruteTimer);
                started = false;
                paused = false;
                usingDictionary = (rule3Method === "Dictionary");
                selectStep(4);
            }

            window.revealPassword = function() {
                const passInput = document.getElementById("password");
                const usernameInput = document.getElementById("username");
                usernameInput.focus();
                passInput.type = "text";
                passInput.value = correctPassword;
                passInput.style.boxShadow = "0 0 10px orange";
                setTimeout(() => {
                    passInput.style.boxShadow = "none";
                }, 1000);
            }

            window.toggleDictSlowMode = function() {
                dictSlowMode = !dictSlowMode;
                const btn = document.getElementById("dictSlowToggle");
                btn.textContent = `Slow Mode: ${dictSlowMode ? "ON" : "OFF"}`;
            }

            async function loadDictionaryAndStart() {
                try {
                    document.getElementById("check-counter").textContent = `‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá... (0/${TOTAL_DICTIONARY_PASSWORDS})`;
                    document.getElementById("speed-zone").textContent = "";
                    const res = await fetch(DICT_URL);
                    if (!res.ok) {
                        throw new Error(`HTTP error! status: ${res.status}`);
                    }
                    const text = await res.text();
                    dictionaryList = text.split(/\r?\n/).map(p => p.trim()).filter(Boolean);
                    dictIndex = 0;
                    dictStep();
                } catch (e) {
                    console.error("Failed to load dictionary.txt:", e);
                    showMessage("‡¶°‡¶ø‡¶ï‡¶∂‡¶®‡¶æ‡¶∞‡¶ø ‡¶´‡¶æ‡¶á‡¶≤ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶π‡¶Ø‡¶º‡¶®‡¶ø, ‡¶¨‡ßç‡¶∞‡ßÅ‡¶ü ‡¶´‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ï ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§");
                    usingDictionary = false;
                    setTimeout(() => bruteForceStart(), 600);
                }
            }

            function dictStep() {
                if (paused) return;
                if (!dictionaryList || dictIndex >= dictionaryList.length) {
                    document.getElementById("check-result").innerHTML = `<span style="color:red;">‡¶°‡¶ø‡¶ï‡¶∂‡¶®‡¶æ‡¶∞‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°‡¶ü‡¶ø ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡•§</span>`;
                    usingDictionary = false;
                    setTimeout(() => bruteForceStart(), 600);
                    return;
                }
                
                const word = dictionaryList[dictIndex];
                const formattedWord = word.toString().padStart(4, '0');
                const zoneInfo = getZoneForNumber(dictIndex);
                
                document.getElementById("check-counter").textContent = `‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá: ${dictIndex + 1}/${TOTAL_DICTIONARY_PASSWORDS}`;
                document.getElementById("current-pass").textContent = `‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°: ${formattedWord}`;
                document.getElementById("password").type = "text";
                document.getElementById("password").value = formattedWord;

                if (word === correctPassword) {
                    document.getElementById("check-result").innerHTML = `<span style="color:green;">‚úÖ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° (Dictionary)!</span>`;
                    document.getElementById("startStopBtn").disabled = true;
                    clearTimeout(bruteTimer);
                    return;
                } else {
                    document.getElementById("check-result").innerHTML = `<span style="color:red;">‚ùå ${formattedWord} ‡¶≠‡ßÅ‡¶≤</span>`;
                }
                
                dictIndex++;
                const delay = dictSlowMode ? 1000 : zoneInfo.delay;
                document.getElementById("speed-zone").textContent = `Speed Zone: ${dictSlowMode ? "Slow Mode" : zoneInfo.zone}`;
                
                bruteTimer = setTimeout(dictStep, delay);
            }

            function bruteForceStart() {
                if (paused) return;
                const passInput = document.getElementById("password");
                const display = document.getElementById("current-pass");
                const result = document.getElementById("check-result");
                const speedZone = document.getElementById("speed-zone");
                
                const formatted = pass.toString().padStart(4, '0');
                const zoneInfo = getZoneForNumber(pass);
                
                document.getElementById("check-counter").textContent = `‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá: ${pass+1}`;
                display.textContent = `‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°: ${formatted}`;
                passInput.type = "text";
                passInput.value = formatted;
                speedZone.textContent = `Speed Zone: ${zoneInfo.zone}`;
                
                if (formatted === correctPassword) {
                    result.innerHTML = `<span style="color:green;">‚úÖ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° (Brute Force)!</span>`;
                    document.getElementById("startStopBtn").disabled = true;
                    return;
                } else {
                    result.innerHTML = `<span style="color:red;">‚ùå ${formatted} ‡¶≠‡ßÅ‡¶≤</span>`;
                }
                
                pass++;
                bruteTimer = setTimeout(bruteForceStart, zoneInfo.delay);
            }
            
            // Phishing block logic
            window.setupDragAndDrop = function() {
                const blocks = document.querySelectorAll('#phishing-blocks .phishing-block');
                const dropZone = document.getElementById('blockDropZone');

                blocks.forEach(block => {
                    block.addEventListener('dragstart', handleDragStart);
                });
                
                dropZone.addEventListener('dragover', handleDragOver);
                dropZone.addEventListener('drop', handleDrop);
                
                droppedBlocks = [];
                renderDroppedBlocks();
            }
            
            function handleDragStart(e) {
                e.dataTransfer.setData('text/plain', e.target.dataset.blockId);
            }
            
            function handleDragOver(e) {
                e.preventDefault();
                e.dataTransfer.dropEffect = 'move';
            }
            
            window.handleDrop = function(e) {
                e.preventDefault();
                const blockId = e.dataTransfer.getData('text/plain');
                const draggedBlock = document.querySelector(`[data-block-id='${blockId}']`);
                
                if (draggedBlock) {
                    if (droppedBlocks.length === 0 && blockId !== "1") {
                        showMessage("‚ö†Ô∏è ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶¨‡ßç‡¶≤‡¶ï‡¶ü‡¶ø ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá 'when Page open'!");
                        return;
                    }
                    
                    if (droppedBlocks.includes(blockId)) {
                        showMessage("‡¶è‡¶á ‡¶¨‡ßç‡¶≤‡¶ï‡¶ü‡¶ø ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!");
                        return;
                    }

                    droppedBlocks.push(blockId);
                    renderDroppedBlocks();
                }
            }
            
            function renderDroppedBlocks() {
                const dropZone = document.getElementById('blockDropZone');
                dropZone.innerHTML = '';
                
                if (droppedBlocks.length > 0) {
                    droppedBlocks.forEach((id, index) => {
                        const originalBlock = document.querySelector(`#phishing-blocks [data-block-id='${id}']`);
                        if (originalBlock) {
                            const newBlock = originalBlock.cloneNode(true);
                            newBlock.draggable = false;
                            newBlock.classList.add('in-drop-zone');
                            
                            dropZone.appendChild(newBlock);
                        }
                    });
                } else {
                    dropZone.innerHTML = '<p>‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¨‡ßç‡¶≤‡¶ï‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶°‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ó ‡¶ì ‡¶°‡ßç‡¶∞‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>';
                }
            }
            
            function checkBlockOrder() {
                const expectedOrder = ["1", "2", "3", "4", "5"];
                if (droppedBlocks.length !== expectedOrder.length) {
                    return false;
                }
                for (let i = 0; i < expectedOrder.length; i++) {
                    if (droppedBlocks[i] !== expectedOrder[i]) {
                        return false;
                    }
                }
                return true;
            }

            window.createPhishingPage = function() {
                const resultBox = document.getElementById('phishingResult');
                const dropZoneBlocks = document.querySelectorAll('#blockDropZone .phishing-block');
                
                if (checkBlockOrder()) {
                    const formName = document.querySelector('#blockDropZone [data-block-id="2"] input').value;
                    const buttonText = document.querySelector('#blockDropZone [data-block-id="5"] input').value;
                    
                    const finalLink = `**‡¶¶‡ßç‡¶¨‡ßÄ‡¶® ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶®‡¶ï‡¶≤ ‡¶ì‡¶Ø‡¶º‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!**<br>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶®‡¶ï‡¶≤ ‡¶ì‡¶Ø‡¶º‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü‡ßá‡¶∞ ‡¶≤‡¶ø‡¶Ç‡¶ï: <span class="phishing-success-link">${FAKE_SITE_URL}</span><br>‡¶è‡¶á ‡¶≤‡¶ø‡¶Ç‡¶ï‡¶ü‡¶ø ‡¶Ø‡¶æ‡¶ï‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶¨‡ßá‡¶®, ‡¶∏‡ßá ‡¶≤‡¶ó-‡¶á‡¶® ‡¶ï‡¶∞‡¶≤‡ßá ‡¶§‡¶•‡ßç‡¶Ø‡¶ó‡ßÅ‡¶≤‡ßã ‡¶è‡¶á ‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ‡¶Ø‡¶º ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá‡•§`;
                    
                    resultBox.style.display = 'block';
                    resultBox.innerHTML = finalLink;

                    allowedStep4Access = true;
                    
                } else {
                    resultBox.style.display = 'block';
                    resultBox.style.backgroundColor = '#f8d7da';
                    resultBox.style.color = '#721c24';
                    resultBox.innerHTML = `<p style="font-weight: bold;">‚ö†Ô∏è ‡¶¨‡ßç‡¶≤‡¶ï‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï ‡¶ï‡ßç‡¶∞‡¶Æ‡ßá ‡¶∏‡¶æ‡¶ú‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡¶®‡¶ø‡•§</p><p>‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶ü‡¶ø‡¶â‡¶ü‡ßã‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶¶‡ßá‡¶ñ‡ßá ‡¶∏‡¶†‡¶ø‡¶ï ‡¶ï‡ßç‡¶∞‡¶Æ ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>`;
                    allowedStep4Access = false;
                }
            }
            
            // ‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ: ‡¶Æ‡ßÇ‡¶≤ ‡¶Æ‡ßá‡¶®‡ßÅ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ì‡•§
            document.getElementById("ruleHeading").textContent = "Steps";
            document.getElementById("buttonsContainer").style.display = "flex";
            document.getElementById("backContainer").style.display = "none";
            document.getElementById("backContainer").innerHTML = "";

            // ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡ßã‡¶°: URL ‡¶™‡ßç‡¶Ø‡¶æ‡¶∞‡¶æ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶∏‡ßç‡¶ü‡ßá‡¶™ 4 ‡¶è ‡¶Ø‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡•§
            const urlParams = new URLSearchParams(window.location.search);
            const capturedUser = urlParams.get('username');
            const capturedPass = urlParams.get('password');
            if (capturedUser && capturedPass) {
                isPhishingRedirect = true;
                // ‡¶è‡¶á ‡¶≤‡¶æ‡¶á‡¶®‡¶ü‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡¶¨‡ßá ‡¶Ø‡ßá, ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ö‡¶æ‡¶™‡¶≤‡ßá ‡¶∏‡ßç‡¶ü‡ßá‡¶™‡¶ó‡ßÅ‡¶≤‡ßã ‡¶†‡¶ø‡¶ï‡¶†‡¶æ‡¶ï ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá‡•§
                completedSteps = [1, 2, 3]; 
                rule3Method = "Phishing";
                allowedStep4Access = true;
                selectStep(4);
            }
        };
    </script>
</body>
</html>
